---
chunk_index: 645
ref: "f3a7273b7f5a"
id: "f3a7273b7f5a4ae4c023e263b0efe4251ddcf33ff157e2ea36744bc75c715d73"
slug: "phase-5-completion-report--index-handler-src-mcp-tools-rs-208-218"
path: "/home/zack/dev/llmx/docs/PHASE_5_COMPLETION_REPORT.md"
kind: "markdown"
lines: [116, 134]
token_estimate: 149
content_sha256: "4c8ededba31e701d22caa49b77f858ef66b0ab95105098c3406f35fa4a8c1f4d"
compacted: false
heading_path: ["Phase 5 Completion Report: Semantic Search Integration","Implementation Summary","4. Integration Points","Index Handler (src/mcp/tools.rs:208-218)"]
symbol: null
address: null
asset_path: null
---

#### Index Handler (src/mcp/tools.rs:208-218)
```rust
// Phase 5: Generate embeddings for semantic search
#[cfg(feature = "embeddings")]
{
    use crate::embeddings::generate_embeddings;
    let chunk_texts: Vec<&str> = index.chunks.iter()
        .map(|c| c.content.as_str())
        .collect();
    let embeddings = generate_embeddings(&chunk_texts);
    index.embeddings = Some(embeddings);
    index.embedding_model = Some("hash-based-v1".to_string());
}
```

- Automatically generates embeddings during indexing
- Batch processes all chunks
- Stores embeddings with index for future searches