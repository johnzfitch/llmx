---
chunk_index: 117
ref: "ac79d82175f7"
id: "ac79d82175f7f60f664b139898423e45fcf827c64e10f01aed43c9f19a072aac"
slug: "agent-handoff--phase-5-implementation-checklist"
path: "/home/zack/dev/llmx/docs/AGENT_HANDOFF.md"
kind: "markdown"
lines: [335, 358]
token_estimate: 200
content_sha256: "21a5d3ce5fb3d7f055f483b0fea085c0b4faa0ffefbfd3155857d0ead2c38414"
compacted: false
heading_path: ["Agent Handoff Document","Phase 5 Implementation Checklist"]
symbol: null
address: null
asset_path: null
---

## Phase 5 Implementation Checklist

Before you start Phase 5:

- [ ] Read `docs/PHASE_5_DIRECTIONS.md` completely
- [ ] Understand current `llmx_search_handler` implementation
- [ ] Review BM25 scoring in `src/index.rs`
- [ ] Optional: Run manual Claude Code test (30 min)
- [ ] Review baseline benchmarks to maintain performance

During Phase 5:

- [ ] Add ONNX runtime dependencies
- [ ] Choose embedding model (all-MiniLM-L6-v2 recommended)
- [ ] Add `embeddings: Vec<Vec<f32>>` to `IndexFile`
- [ ] Implement embedding generation pipeline
- [ ] Add cosine similarity search
- [ ] Implement hybrid ranking (BM25 + semantic)
- [ ] Add `use_semantic` flag to `SearchInput`
- [ ] Test with Phase 4 benchmarks (ensure no regression)
- [ ] Measure new metrics (embedding time, vector search time)

---