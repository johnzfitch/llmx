---
chunk_index: 216
ref: "a7291c9f78d0"
id: "a7291c9f78d0f8711ddaa3881205d0f2a3fa13f9d854c7f5b93c82088bf64996"
slug: "ingestion-spec--index-format-index-json"
path: "/home/zack/dev/llmx/docs/INGESTION_SPEC.md"
kind: "markdown"
lines: [37, 66]
token_estimate: 307
content_sha256: "38320ff31c3320ae606ed37c103184cdc4a63788ec9c5c0806f3c4b57d904081"
compacted: false
heading_path: ["LLMX Ingestion Spec","Index Format (index.json)"]
symbol: null
address: null
asset_path: null
---

## Index Format (index.json)

Top-level fields:

- `version`: schema version.
- `index_id`: sha256 of sorted (path, file hash) pairs.
- `files`: list of file metadata.
- `chunks`: ordered list of chunk records.
- `chunk_refs`: map of `chunk_id -> ref` used by exports/UI (derived from `id` prefixes; collision-extended).
- `inverted_index`: term -> postings (tf, doc_len).
- `stats`: totals and averages.
- `warnings`: skipped/truncated file notices.

Chunk record:

- `id`: sha256(path + content_hash + occurrence_index)
- `short_id`: first 12 hex chars of `id`
- `slug`: deterministic semantic label derived from filename + heading/symbol/address
- `path`: normalized relative path
- `kind`: markdown/json/java_script/html/text/image/unknown
- `chunk_index`: per-file index, stable across deterministic chunking
- `start_line`, `end_line`: provenance anchors (best effort for JSON)
- `content`: chunk text (scripts/styles removed for HTML)
- `content_hash`: sha256 of chunk content
- `token_estimate`: approx tokens (chars / 4)
- `heading_path`: heading ancestry (md/html)
- `symbol`: symbol name (js/ts)
- `address`: JSON pointer or range (json)
- `asset_path`: optional relative path for binary assets (e.g. `images/<path>`)