---
chunk_index: 334
ref: "73cd6605f371"
id: "73cd6605f371083b53050765dbb69a00656d03c2d0d44af2f8c7d6d2dd728538"
slug: "phase6-blocker-fixes--solution-a-use-tokenizers-with-wasm-feature"
path: "/home/zack/dev/llmx/docs/PHASE6_BLOCKER_FIXES.md"
kind: "markdown"
lines: [108, 141]
token_estimate: 231
content_sha256: "87acfa1ee1bf74eba199a58c6f0c44b322045504743c40343f629d8039952322"
compacted: false
heading_path: ["Phase 6 Blocker Resolution Guide","Blocker 2: Tokenizer WASM Incompatibility","Solution A: Use `tokenizers` with WASM feature (Recommended)"]
symbol: null
address: null
asset_path: null
---

### Solution A: Use `tokenizers` with WASM feature (Recommended)

The `tokenizers` crate actually has WASM support, but you need the right features:

```toml
# Cargo.toml
[dependencies]
tokenizers = { version = "0.20", default-features = false, features = ["unstable_wasm"] }
```

**Note:** This is marked "unstable" but works. It uses a pure-Rust regex fallback instead of `onig`.

**If that fails, try:**

```toml
# Disable ALL optional features
tokenizers = { version = "0.20", default-features = false }
```

Then in code, handle the reduced functionality:

```rust
use tokenizers::Tokenizer;

// Load from JSON (this works in WASM)
let tokenizer = Tokenizer::from_bytes(include_bytes!("tokenizer.json"))
    .expect("Failed to load tokenizer");

// Encode (works)
let encoding = tokenizer.encode("hello world", false).unwrap();
let input_ids = encoding.get_ids();
let attention_mask = encoding.get_attention_mask();
```