---
chunk_index: 1057
ref: "46a77f7f05ae"
id: "46a77f7f05aec77b84f673c976253c31fae545cbe689366cf830e06a591d4dbd"
slug: "spike-l1-22"
path: "/home/zack/dev/llmx/ingestor-core/spike.rs"
kind: "text"
lines: [1, 22]
token_estimate: 157
content_sha256: "52a5f34f30447f94e34ca0626179856dfb633c7f79e5442c256bcb14d1ce504a"
compacted: false
heading_path: []
symbol: null
address: null
asset_path: null
---

// SDK API spike to verify rust-mcp-sdk works as expected
use rust_mcp_sdk::prelude::*;
use serde_json::json;

#[mcp_tool(name = "test", description = "test tool")]
async fn test_handler(input: serde_json::Value) -> Result<serde_json::Value, McpError> {
    Ok(json!({"ok": true, "input": input}))
}

#[tokio::main]
async fn main() -> anyhow::Result<()> {
    println!("Testing rust-mcp-sdk API...");

    // Test: can we create a server?
    let server = Server::new("test", "0.1.0")
        .with_tool("test", test_handler);

    println!("✅ Server created successfully");
    println!("✅ API shape confirmed");

    Ok(())
}