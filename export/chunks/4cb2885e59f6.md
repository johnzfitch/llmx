---
chunk_index: 157
ref: "4cb2885e59f6"
id: "4cb2885e59f6536d8767e1bae87141ba86e026432993fb84950f84d630921589"
slug: "claude-code-integration--5-sessionstart-auto-index"
path: "/home/zack/dev/llmx/docs/CLAUDE_CODE_INTEGRATION.md"
kind: "markdown"
lines: [192, 215]
token_estimate: 143
content_sha256: "f1130720173f579a53874c14a911717b5376fc6595f3e8431349f29ce234ceb3"
compacted: false
heading_path: ["llmx + Claude Code Integration","Integration Points","5. SessionStart Auto-Index"]
symbol: null
address: null
asset_path: null
---

### 5. SessionStart Auto-Index

Add to `~/.claude/hooks/session-start`:

```bash
#!/bin/bash
# Auto-index current project if not recently indexed

PROJECT_NAME=$(basename "$PWD")
INDEX_DIR="$HOME/.claude/indexes/$PROJECT_NAME"
MANIFEST="$INDEX_DIR/manifest.md"

# Skip if indexed within last 24 hours
if [[ -f "$MANIFEST" ]]; then
    AGE=$(( $(date +%s) - $(stat -c %Y "$MANIFEST") ))
    (( AGE < 86400 )) && exit 0
fi

# Background index (don't block session start)
if command -v llmx &>/dev/null; then
    llmx index "$PWD" --output "$INDEX_DIR" &>/dev/null &
fi
```