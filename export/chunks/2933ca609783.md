---
chunk_index: 1347
ref: "2933ca609783"
id: "2933ca609783aa62469fc281f97b55786835f517faf87a47a3dcc2796c0fb93c"
slug: "app--updateoutlinesymbols"
path: "/home/zack/dev/llmx/web/app.js"
kind: "java_script"
lines: [796, 829]
token_estimate: 309
content_sha256: "7b75a673f1445c74e53f80ed6e24a19e3d2449fd24898beb395895c27733b2b4"
compacted: false
heading_path: []
symbol: "updateOutlineSymbols"
address: null
asset_path: null
---

async function updateOutlineSymbols() {
  elements.outlineFilter.replaceChildren();
  elements.symbolFilter.replaceChildren();
  const outlineOption = document.createElement("option");
  outlineOption.value = "";
  outlineOption.textContent = "All outlines";
  elements.outlineFilter.appendChild(outlineOption);
  const symbolOption = document.createElement("option");
  symbolOption.value = "";
  symbolOption.textContent = "All symbols";
  elements.symbolFilter.appendChild(symbolOption);
  const path = elements.fileFilter.value;
  if (!state.indexLoaded || !path) {
    return;
  }
  try {
    const { outline: outlines } = await callWorker("listOutline", { path });
    const { symbols } = await callWorker("listSymbols", { path });
    for (const outline of outlines) {
      const option = document.createElement("option");
      option.value = outline;
      option.textContent = outline;
      elements.outlineFilter.appendChild(option);
    }
    for (const symbol of symbols) {
      const option = document.createElement("option");
      option.value = symbol;
      option.textContent = symbol;
      elements.symbolFilter.appendChild(option);
    }
  } catch (error) {
    setStatus("Outline/symbol lookup failed.");
  }
}