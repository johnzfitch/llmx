---
chunk_index: 1078
ref: "a43b032cefd1"
id: "a43b032cefd1d51e96929d84a23eb723d655a1f334ec21722442b02c6e077320"
slug: "storage-l249-269"
path: "/home/zack/dev/llmx/ingestor-core/src/handlers/storage.rs"
kind: "text"
lines: [249, 269]
token_estimate: 141
content_sha256: "2249c6ff067fb9c13cad9936de70fff2fe4074ccc4bd2a48191aea6f4278d148"
compacted: false
heading_path: []
symbol: null
address: null
asset_path: null
---

Ok(IndexFile {
            version: 1,
            index_id: stored.id,
            files: stored.files,
            chunks: stored.chunks,
            chunk_refs,
            inverted_index,
            stats,
            warnings: vec![],
            embeddings: stored.embeddings,
            embedding_model: stored.embedding_model,
        })
    }

    fn hash_path(path: &str) -> String {
        use sha2::{Digest, Sha256};
        let mut hasher = Sha256::new();
        hasher.update(path.as_bytes());
        format!("{:x}", hasher.finalize())
    }
}