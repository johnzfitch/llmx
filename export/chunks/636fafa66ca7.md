---
chunk_index: 861
ref: "636fafa66ca7"
id: "636fafa66ca746207386fd8eb69c0f101eda66a2bfa73a2cae26b48811e0046e"
slug: "stable-backport-patches--git-workflow"
path: "/home/zack/dev/llmx/docs/STABLE_BACKPORT_PATCHES.md"
kind: "markdown"
lines: [414, 463]
token_estimate: 361
content_sha256: "928e6066015b5dd9764faf3a0753010d2cea0caad21759c9fb4fa947f851be24"
compacted: false
heading_path: ["LLMX Stable - Exact Code Patches to Apply","GIT WORKFLOW"]
symbol: null
address: null
asset_path: null
---

## GIT WORKFLOW

```bash
# Start from stable branch
git checkout deploy-stable

# Create hardening branch
git checkout -b feature/stable-hardening

# Apply patches (edit files manually or use patch files)
# ... apply PATCH 1 ...
git add web/app.js web/worker.js web/index.html
git commit -m "fix: Critical bug fixes for search accuracy and status visibility

- Clear stale embeddings after selective update (HIGH severity)
- Make status messages visible during operations
- Remove display:none from status element

Fixes semantic search accuracy bug where embeddings weren't cleared
after index updates, causing stale vectors to be used."

# ... apply PATCH 2 ...
git add web/app.js
git commit -m "perf: Reduce file size limits for token efficiency

- Reduce max file size from 10MB to 5MB
- Reduce max total size from 50MB to 25MB
- Add 500 file count limit
- Add early warnings at 1MB/10MB thresholds

Achieves 50% reduction in worst-case LLM token usage."

# ... continue for remaining patches ...

# Push branch
git push -u origin feature/stable-hardening

# Test thoroughly, then merge to deploy-stable
git checkout deploy-stable
git merge feature/stable-hardening
git push

# Deploy to llm.cat
rsync -avz --progress --delete -e "ssh" /home/zack/dev/llmx/web/ adept:/var/www/llm.cat/
ssh adept "sudo chown -R caddy:caddy /var/www/llm.cat/ && sudo chmod -R 0775 /var/www/llm.cat/"
ssh adept "curl -sI https://llm.cat | head -10"
```

---