---
chunk_index: 690
ref: "2847d5c5af1c"
id: "2847d5c5af1c8d92ad695edd569a8f8ea638eb7840f169584378a9672f4bf91f"
slug: "phase-5-directions--3-hybrid-search-strategy"
path: "/home/zack/dev/llmx/docs/PHASE_5_DIRECTIONS.md"
kind: "markdown"
lines: [75, 106]
token_estimate: 222
content_sha256: "770c6d43c0a11329b48fe4c924e36a824759ffef02c3081933279398bf0a0d10"
compacted: false
heading_path: ["Phase 5: Semantic Search & Embeddings Integration","Primary Objectives","3. Hybrid Search Strategy"]
symbol: null
address: null
asset_path: null
---

### 3. Hybrid Search Strategy
**Goal**: Combine BM25 and semantic search intelligently

**Fusion Approaches**:
1. **Reciprocal Rank Fusion (RRF)** - simple, works well
2. **Linear combination** - weight BM25 vs vector scores
3. **Cascade** - BM25 first, then rerank with vectors

**Implementation**:
```rust
pub struct HybridSearchInput {
    pub query: String,
    pub index_name: String,
    pub strategy: HybridStrategy,  // RRF, Linear, Cascade
    pub bm25_weight: f32,  // default 0.5
    pub semantic_weight: f32,  // default 0.5
    pub top_k: usize,
}

pub enum HybridStrategy {
    ReciprocalRankFusion { k: usize },
    LinearCombination,
    Cascade { bm25_top_k: usize },
}
```

**Tasks**:
- [ ] Implement RRF fusion (start here, it's robust)
- [ ] Add linear combination option
- [ ] Make strategy configurable per search
- [ ] Benchmark hybrid vs pure BM25 on test queries