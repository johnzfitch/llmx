---
chunk_index: 66
ref: "9402c76ca688"
id: "9402c76ca688837c1619174b08127a38b465fadda68d4f009ae19a3c168c77fd"
slug: "claude-model-selection-for-c--assistant"
path: "/home/zack/dev/llmx/claude_Model selection for current project_2026-01-17.md"
kind: "markdown"
lines: [648, 678]
token_estimate: 405
content_sha256: "0c6ab951bd01a58bd20a18459572ab1f58dbe0823f1d865447edb5da9ebb5361"
compacted: false
heading_path: ["Model selection for current project","Assistant"]
symbol: null
address: null
asset_path: null
---

## Assistant

The agent is asking whether it should download the ONNX model automatically during build or if Zack will provide it manually.

For Burn's workflow:
1. ONNX model gets converted to Rust code at compile time via burn-import
2. The model weights can either be embedded or loaded at runtime

Option 1 (automatic download in build.rs) is cleaner for development - the agent handles everything. But there's a consideration: build.rs running network requests can be flaky and makes offline builds impossible.

Better pattern for browser deployment:
- ONNX → Burn conversion happens at build time (needs the ONNX file locally or downloaded once)
- Model WEIGHTS are fetched at runtime from CDN (not embedded in WASM)

So the build process needs the ONNX file to generate the Rust model structure code, but the actual weights get loaded at runtime from CDN/IndexedDB.

For simplicity during development: Let the agent download it automatically. It's a one-time setup thing. The model file goes into the repo (or .gitignore'd with a download script), burn-import converts it at build time.

Option 1 is fine. Tell agent to go for it.**Option 1. Let the agent handle it.**

The model file is needed at build time for `burn-import` to generate Rust code. Runtime weight loading is separate (CDN → IndexedDB).

One note: the ONNX file (~33MB) shouldn't be committed to git. Agent should:
1. Add `models/*.onnx` to `.gitignore`
2. Create a download script or build.rs that fetches if missing
3. Cache locally after first download

That way fresh clones auto-fetch, but you're not bloating the repo.

Go with Option 1.