---
chunk_index: 724
ref: "8ddb43a80ee4"
id: "8ddb43a80ee43f90e86a4aa4e78cf399c10ac9ca55554b7d3cc83ee0820a6a93"
slug: "quick-start-phase-5--step-4-update-indexing-pipeline-1-2-hours"
path: "/home/zack/dev/llmx/docs/QUICK_START_PHASE_5.md"
kind: "markdown"
lines: [73, 91]
token_estimate: 116
content_sha256: "e3a57d912c70d15a122b299f94324d370b36b406be8defb955461f39e367a4cb"
compacted: false
heading_path: ["Phase 5 Quick Start Guide","ðŸ“‹ Implementation Steps","Step 4: Update Indexing Pipeline (1-2 hours)"]
symbol: null
address: null
asset_path: null
---

### Step 4: Update Indexing Pipeline (1-2 hours)
```rust
// src/mcp/tools.rs:173

pub fn llmx_index_handler(...) -> Result<IndexOutput> {
    // ... existing indexing ...

    // NEW: Generate embeddings
    let generator = EmbeddingGenerator::new()?;
    let mut embeddings = Vec::new();
    for chunk in &index.chunks {
        embeddings.push(generator.generate(&chunk.content)?);
    }
    index.embeddings = Some(embeddings);

    // ... save index ...
}
```